@using Microsoft.AspNet.Identity
@using DataModel.DataEntity;
@using DataModel.DataViewModel;
@using DataModel.Extension;
@model CreateDisplayTypeViewModel


@{
    ViewBag.Title = "DisplayManager";
    Layout = "~/Areas/AdminCMS/Views/Shared/_Layout.cshtml";
}
<!-- Bootstrap time Picker -->
<link rel="stylesheet" href="~/Areas/AdminCMS/plugins/timepicker/bootstrap-timepicker.min.css">
<section class="content">
    <div class="row">
        <!-- left column -->
        <div class="col-md-12">
            <!-- general form elements -->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Quản Lý Nội Dung Hiển Thị</h3>
                    <p>Bạn đang đăng nhập bằng tài khoản <strong>@User.Identity.GetUserName()</strong>.</p>

                </div><!-- /.box-header -->
                <!-- form start -->

                <div class="box-body">
                    @using (Html.BeginForm("Create", "DisplayManager", FormMethod.Post, new { @class = "", role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary("", new { @class = "text-danger" })

                        <div class="form-group col-md-3">
                            @Html.LabelFor(m => m.ContentId, new { @class = "col-md-12 control-label" })
                            @Html.DropDownListFor(c => c.ContentId, Model.LstContent as SelectList, "Select...", new { @class = "form-control" })
                        </div>

                        <div class="form-group col-md-2">
                            @Html.LabelFor(m => m.DisplayTypeId, new { @class = "col-md-12 control-label" })
                            @Html.DropDownListFor(c => c.DisplayTypeId, Model.LstDisplayType as SelectList, "Select...", new { @class = "form-control" })
                        </div>
                         <div class="form-group col-md-4">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                             @Html.TextBoxFor(m => m.Datetime, new { @class = "form-control pull-right", id = "reservation" })
                                
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->


                        <div class="form-group col-md-2">
                            @Html.HiddenFor(s => s.ObjTypeId, new { Value = (int)EnumCore.ObjTypeId.tin_tuc })
                            <div class="form-group">
                                <label>   </label>
                                <button type="submit" class="btn btn-primary">Create</button>
                            </div>
                        </div>
                    }
                </div><!-- /.box-body -->

                <div class="box-body">
                    @using (Html.BeginForm("Create", "DisplayManager", FormMethod.Post, new { @class = "", role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary("", new { @class = "text-danger" })

                        <div class="form-group col-md-3">
                            @Html.LabelFor(m => m.ProductId, new { @class = "col-md-6 control-label" })
                            @Html.DropDownListFor(c => c.ProductId, Model.LstProduct as SelectList, "Select...", new { @class = "form-control" })
                        </div>

                        <div class="form-group col-md-2">
                            @Html.LabelFor(m => m.DisplayTypeId, new { @class = "col-md-12 control-label" })
                            @Html.DropDownListFor(c => c.DisplayTypeId, Model.LstDisplayType as SelectList, "Select...", new { @class = "form-control" })
                        </div>

                         <div class="form-group col-md-4">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                @Html.TextBoxFor(m => m.Datetime, new { @class = "form-control pull-right", id = "reservation2" })
                            </div><!-- /.input group -->
                        </div>

                        <div class="form-group col-md-2">
                            @Html.HiddenFor(s => s.ObjTypeId, new { Value = (int)EnumCore.ObjTypeId.san_pham })
                            <div class="form-group">
                                <label>   </label>
                                <button type="submit" class="btn btn-primary">Create</button>
                            </div>
                        </div>
                    }
                </div><!-- /.box-body -->

                <div class="box-body">
                    @using (Html.BeginForm("Create", "DisplayManager", FormMethod.Post, new { @class = "", role = "form" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary("", new { @class = "text-danger" })

                        <div class="form-group col-md-3">
                            @Html.LabelFor(m => m.BannerId, new { @class = "col-md-12 control-label" })
                            @Html.DropDownListFor(c => c.BannerId, Model.LstBanner as SelectList, "Select...", new { @class = "form-control" })
                        </div>

                        <div class="form-group col-md-2">
                            @Html.LabelFor(m => m.DisplayTypeId, new { @class = "col-md-12 control-label" })
                            @Html.DropDownListFor(c => c.DisplayTypeId, Model.LstDisplayType as SelectList, "Select...", new { @class = "form-control" })
                        </div>
                         <div class="form-group col-md-4">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                @Html.TextBoxFor(m => m.Datetime, new { @class = "form-control pull-right", id = "reservation3" })
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->

                        <div class="form-group col-md-2">
                            @Html.HiddenFor(s => s.ObjTypeId, new { Value = (int)EnumCore.ObjTypeId.banner })
                            <div class="form-group">
                                <label>   </label>
                                <button type="submit" class="btn btn-primary">Create</button>
                            </div>
                        </div>
                    }
                </div><!-- /.box-body -->


                <div class="box-header with-border">
                    <h3 class="box-title">Danh sách nội dung hiển thị</h3>

                </div><!-- /.box-header -->
                <div class="box-body">
                    <div class="box-tools">
                        <div class="btn-group">
                            <button type="button" class="btn btn-danger">Lọc theo vùng hiển thị</button>
                            <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#">All</a></li>
                                <li class="divider"></li>
                                @foreach (SelectListItem val in Model.LstDisplayType)
                                {
                                    <li><a href="@Url.Action("Create", "DisplayManager", new { DisplayTypeId = val.Value })">@val.Text</a></li>
                                }
                            </ul>
                        </div>
                    </div>

                    <table class="table table-hover">
                        <tbody>
                            <tr>
                                <th>Vùng hiển thị</th>
                                <th>Nội dung hiển thị</th>
                                <th>Thứ Tự</th>
                                <th>Sắp Xếp</th>
                                <th>Xoá</th>
                            </tr>
                            @foreach (DisplayTypeViewModels item in Model.LstDisplayContent)
                            {
                                <tr>
                                    <td>@item.Mainmodel.ObjDisplayType.ClassificationNM</td>
                                    <td> <span class="label label-success">@item.ContentName</span></td>
                                    <td>@item.Mainmodel.DisplayOrder</td>
                                    <td>
                                        <a href="@Url.Action("")">
                                            <i class="fa fa-arrow-up"></i>
                                        </a> <a href="@Url.Action("")"><i class="fa fa-arrow-down"></i></a>
                                    </td>
                                    <td><a href="@Url.Action("Delete", "DisplayManager", new { DisplayContentId = item.Mainmodel.Id })" class="btn btn-block btn-danger btn-xs">Remove</a></td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div><!-- /.box-body -->


            </div><!-- /.box -->
            <!-- Form Element sizes -->

        </div><!--/.col (left) -->



    </div>   <!-- /.row -->
</section>
<script>
    $(function () {

        $('#reservation').daterangepicker();
        $('#reservation2').daterangepicker();
        $('#reservation3').daterangepicker();


    })
    //Date range picker
   


</script>
